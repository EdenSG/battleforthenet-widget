function stupidIEZoomFix(){ieVersion?($(".loading-region").addClass("zoomedOut").addClass("IE"),$("#modal").addClass("fullyVisible").addClass("IE"),setTimeout(function(){$("#header").addClass("fullyVisible").addClass("IE")},150)):($(".loading-region").addClass("zoomedOut").addClass("notIE"),$("#modal").addClass("fullyVisible").addClass("notIE"),setTimeout(function(){$("#header").addClass("fullyVisible").addClass("notIE")},150))}var hue=parseFloat(window.location.hash.match(/\d+/)),animations={modal:{options:{debug:!1},init:function(a){for(var b in a)this.options[b]=a[b];return this},start:function(){$("a.close").click(function(a){a.preventDefault(),$("body").addClass("closed"),trackLeaderboardStat({stat:"close_widget",data:"modal"}),setTimeout(function(){sendMessage("stop")},750)}),$("a.read").click(function(a){a.preventDefault(),$("#overlay").css("display","block"),setTimeout(function(){$("#overlay").addClass("visible")},50)}),$("a.continue").click(function(){$("#overlay").removeClass("visible"),setTimeout(function(){$("#overlay").css("display","none")},1e3)}),$("form[name=petition]").submit(function(a){a.preventDefault(),this.postUser($(this))&&($("input:not([type=image],[type=button],[type=submit])").val(""),this.showFinal())}.bind(this)),$("a.facebook").click(function(){trackLeaderboardStat({stat:"share",data:"facebook"})}),$("a.twitter").click(function(){trackLeaderboardStat({stat:"share",data:"twitter"})})},log:function(){this.options.debug&&console.log.apply(console,arguments)},postUser:function(){var a=["address1","email","name","zip"],b={},c=!1,d=$("form[name=petition]");return a.forEach(function(a){$("input[name="+a+"]",d).removeClass("error"),$("input[name="+a+"]",d)[0]&&""===$("input[name="+a+"]",d).val()?(c=!0,$("input[name="+a+"]",d).addClass("error")):b[a]=$("input[name="+a+"]",d).val()}),c?!1:(b.action_comment=$("JL-TBD").val(),b.country="US",$.ajax({url:"https://api.battleforthenet.com/submit",type:"post",dataType:"json",data:b,success:function(a){userID=a.userID}}),trackLeaderboardStat({stat:"submit_form"}),!0)},showFinal:function(){$("#step1").addClass("hidden"),$("#header").addClass("hidden"),setTimeout(function(){$("#step1").css("visibility","hidden")},1e3),$("#stepFinal").show(),setTimeout(function(){$("#stepFinal").css("opacity",1)},10)}}};setTimeout(function(){$("#header h1").html($("h1.headline").html()),$("#header .cta p").html($("p.cta-hidden-trust-me").html())},2e3),setTimeout(function(){$("#header .cta").css("height",$("#header").outerHeight()+"px"),$("#letter").css("height",$("#modal").outerHeight()+"px"),$("#letter").css("opacity",1)},3e3),-1!=window.location.href.indexOf("EMBED")&&(document.body.className="embedded",animations.modal.start());var adjustThemeColor=function(a){for(var b=[{element:$("#overlay"),cssProp:"background",colorValue:"hsla("+a+", 30%, 20%, 0.2)"},{element:$(".loading-region, #modal"),cssProp:"background",colorValue:"hsl("+a+", 100%, 96%)"},{element:$(".loading-region"),cssProp:"box-shadow",colorValue:"0px 0px 150px hsl("+a+", 100%, 96%)"},{element:$("#header"),cssProp:"color",colorValue:"hsl("+a+", 22%, 25%)"},{element:$(".action"),cssProp:"background",colorValue:"hsl("+a+", 22%, 25%)"},{element:$(".action a.read"),cssProp:"color",colorValue:"hsl("+a+", 22%, 46%)"},{element:$(".action a.read"),cssProp:"color",colorValue:"hsl("+a+", 26%, 56%)",pseudo:":hover"},{element:$("button, #overlay .letter > a"),cssProp:"background",colorValue:"linear-gradient(to bottom, hsl("+a+", 61%, 46%) 0%, hsl("+a+", 61%, 41%) 100%)"},{element:$("button, #overlay .letter > a"),cssProp:"background",colorValue:"hsl("+a+", 61%, 41%)",pseudo:":hover"},{element:$(".disclosure a"),cssProp:"color",colorValue:"hsl("+a+", 61%, 46%)"}],c=0;c<b.length;c++)b[c].element.css(b[c].cssProp,b[c].colorValue)};adjustThemeColor(hue),setTimeout(function(){stupidIEZoomFix()},2250);for(var ie10Styles=["msTouchAction","msWrapFlow","msWrapMargin","msWrapThrough","msOverflowStyle","msScrollChaining","msScrollLimit","msScrollLimitXMin","msScrollLimitYMin","msScrollLimitXMax","msScrollLimitYMax","msScrollRails","msScrollSnapPointsX","msScrollSnapPointsY","msScrollSnapType","msScrollSnapX","msScrollSnapY","msScrollTranslation","msFlexbox","msFlex","msFlexOrder"],ie11Styles=["msTextCombineHorizontal"],b=document.body,s=b.style,ieVersion=null,property,i=0;i<ie10Styles.length;i++)property=ie10Styles[i],void 0!=s[property]&&(ieVersion="ie10");for(var i=0;i<ie11Styles.length;i++)property=ie11Styles[i],void 0!=s[property]&&(ieVersion="ie11");ieVersion&&(document.getElementById("modal").className="IE",document.getElementById("header").className="IE");